// +========================================+
// |       Besmellah, Alrahman, Alrahim     |
// |              Pro Input JS              |
// |  https://github.com/mehdika2/ProInput  |
// +========================================+
!function(){const i="data-pi-type",a="data-pi-max-length";function p(e,t,a=""){""==a&&(a=i);e=e.getAttribute(a);return e&&!!e.split(" ").includes(t)}const n=["۰","۱","۲","۳","۴","۵","۶","۷","۸","۹"],l=["0","1","2","3","4","5","6","7","8","9"],u=["٠","١","٢","٣","٤","٥","٦","٧","٨","٩"];function s(a){"FORM"===a.nodeName?a.querySelectorAll("input").forEach((e,t)=>{p(e,".farsi")&&s(e),p(e,".noseparator")&&(e.value=e.value.replaceAll(",",""))}):(l.forEach((e,t)=>{a.value=a.value.replace(new RegExp(e,"g"),n[t])}),u.forEach((e,t)=>{a.value=a.value.replace(new RegExp(e,"g"),n[t])}))}function v(a){"FORM"===a.nodeName?a.querySelectorAll("input").forEach((e,t)=>{p(e,".english")&&v(e),p(e,".noseparator")&&(e.value=e.value.replaceAll(",",""))}):(n.forEach((e,t)=>{a.value=a.value.replace(new RegExp(e,"g"),l[t])}),u.forEach((e,t)=>{a.value=a.value.replace(new RegExp(e,"g"),l[t])}))}function f(a){"FORM"===a.nodeName?a.querySelectorAll("input").forEach((e,t)=>{p(e,".arabic")&&f(e),p(e,".noseparator")&&(e.value=e.value.replaceAll(",",""))}):(l.forEach((e,t)=>{a.value=a.value.replace(new RegExp(e,"g"),u[t])}),n.forEach((e,t)=>{a.value=a.value.replace(new RegExp(e,"g"),u[t])}))}window.submit=function(){document.querySelector("form").submit()},window.ProInputInit=function(r){const o=document.querySelectorAll("input"),e=[];function t(e){var t=e.target,a=t.getAttribute("data-pi-allowed")??"";t.value=t.value.replaceAll(new RegExp(`[^\\u06F0-\\u06F9\\u0660-\\u06690-9${a}]`,"g"),""),c(e)}function c(e){var e=e.target;p(e,"farsi")?s(e):p(e,"arabic")?f(e):p(e,"english")&&v(e),p(e,"separate")&&(e.value=[...[...e.value.replaceAll(",","")].reverse().join("").replace(/(.{3})/g,"$1,").replace(/,\s*$/,"")].reverse().join("")),e.hasAttribute(a)&&e.value.replaceAll(",","").length>=Number(e.getAttribute(a))&&(e=o[e.tabIndex])&&(e.focus(),e.select())}o.forEach((n,l)=>{n.tabIndex=l+1;const u=n.closest("form");null!=n.getAttribute(i)&&n.getAttribute(i).match(/\..*?\s/g)&&!e.includes(u)&&(u.addEventListener("submit",function(e){e.preventDefault(),s(u),v(u),f(u)}),e.push(u)),p(n,"onlynumber")?n.addEventListener("input",t):p(n,"number")&&n.addEventListener("input",c),(p(n,"backjump")||p(n,"jump"))&&n.addEventListener("keydown",e=>{var t,a;p(n,"backjump")&&"Backspace"===e.key&&""===n.value&&0<l&&((t=o[l-1]).focus(),a=(t=t).value.length,t.setSelectionRange(a,a),t.focus(),e.preventDefault()),!p(n,"jump")||"Enter"!==e.key&&13!==e.keyCode||(e.preventDefault(),(a=o[l+1])?a.focus():"function"!=typeof r||0!=r()&&!u||u.submit())})})},window.toPersian=s,window.toEnglish=v,window.toArabic=f}();
